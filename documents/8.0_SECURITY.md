# Security Guide

Essential security practices for the project.

## ðŸ”’ Secret Management

**Never commit:** `.secrets`, `.env*`, `*.tfstate`

See [7.0_SECRETS_MANAGEMENT.md](./7.0_SECRETS_MANAGEMENT.md) for detailed setup.

## Security Checklist

Before deploying:
- [ ] Run `git status` - no `.secrets` or `.env` files
- [ ] Verify `.secrets.example` uses example values only (when created)
- [ ] Test with `yarn secrets:validate`

## Incident Response

If you commit secrets:
1. **Rotate** exposed keys immediately
2. **Remove from git history**: `git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch .secrets' --prune-empty --tag-name-filter cat -- --all`
3. **Force push** to update remote
4. **Regenerate secrets** with `yarn secrets:setup`

## Security Best Practices

- HTTPS Only: All traffic encrypted
- Environment Isolation: Separate local/staging secrets
- Regular Updates: Keep dependencies current
- Vulnerability Scanning: Automated security checks

**Note:** Production environment not needed until client is secured. Currently supporting local and staging environments only.

## B2B Security Considerations

**Organization Isolation:** Strict data isolation, organization-level access controls, prevent cross-organization access, audit logs

**Team Member Management:** Role-based permissions (owner, admin, member, viewer), invitation workflows, access revocation, activity logging. See [README.md](../README.md#user-roles) for detailed role permissions and capabilities.

**Payment Security:** Organization-level payment accounts, approval workflows, multi-user authorization, invoice access controls. Only `owner` and `admin` roles can access billing and payment information.

## International Compliance

**GDPR Compliance (EU customers):** Data processing agreements, right to deletion, data portability, privacy policy

**Data Residency:** EU data may need to stay in EU, customer data location preferences

**Payment Security:** PCI DSS compliance, secure handling of international payment information, regional payment method security standards

**International Regulations:** Export control compliance, sanctions compliance, regional data protection laws

---

## Related Documentation

- [7.0_SECRETS_MANAGEMENT.md](./7.0_SECRETS_MANAGEMENT.md) - Secrets configuration
- [9.0_INTEGRATIONS.md](./9.0_INTEGRATIONS.md) - Third-party integrations security
- [6.0_STEP_1_TERRAFORM_POSTGRES.md](./6.0_STEP_1_TERRAFORM_POSTGRES.md) - Infrastructure security
